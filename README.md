# InsightFinder
–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ¬´InsightFinder¬ª
 
 üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ Python, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (EDA) –¥–ª—è —Ç–∞–±–ª–∏—á–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Å –±–∏–Ω–∞—Ä–Ω–æ–π —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
insightfinder/
‚îÇ
‚îú‚îÄ‚îÄ data/                       # –ü–∞–ø–∫–∞ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ CSV-—Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ telecom_eda_data.csv
‚îÇ
‚îú‚îÄ‚îÄ tools/                      # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ primary_feature_finder.py
‚îÇ   ‚îú‚îÄ‚îÄ correlation_analysis.py
‚îÇ   ‚îú‚îÄ‚îÄ descriptive_stats_comparator.py
‚îÇ   ‚îú‚îÄ‚îÄ categorical_feature_analysis.py
‚îÇ   ‚îî‚îÄ‚îÄ full_model_importance.py
‚îÇ
‚îú‚îÄ‚îÄ agents/                     # –ú–æ–¥—É–ª–∏ –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ analyst_agent.py
‚îÇ   ‚îú‚îÄ‚îÄ executor_agent.py
‚îÇ   ‚îú‚îÄ‚îÄ summarizer_agent.py
‚îÇ   ‚îî‚îÄ‚îÄ tools_wrapper.py  # –û–±—ë—Ä—Ç–∫–∞ –¥–ª—è —Ç—É–ª–∑–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ core/                       # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py
‚îÇ   ‚îî‚îÄ‚îÄ orchestrator.py
‚îÇ
‚îú‚îÄ‚îÄ report/                     # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ report_template.md.j2
‚îÇ   ‚îî‚îÄ‚îÄ generate_report.py
‚îÇ
‚îú‚îÄ‚îÄ config/                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ agent_prompts.py
‚îÇ
‚îú‚îÄ‚îÄ tests/                      # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_tools.py
‚îÇ   ‚îî‚îÄ‚îÄ test_edge_cases.py
‚îÇ
‚îú‚îÄ‚îÄ main.py                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```





### –û–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:

   - –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç `df: pd.DataFrame`, `target_column: str`, `**kwargs`.
    
	–ì–¥–µ  pandas.DataFrame ‚Äî –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö. 
    target_column: str ‚Äî –∏–º—è —Å—Ç–æ–ª–±—Ü–∞ —Å —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. 
    *kwargs ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, feature_name: str–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–∞).

   - –í–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–ª–æ–≤–∞—Ä—å —Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è:

```
      {
    "tool_name": "DecisionTreeSplitter", // –ù–∞–∑–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
    "status": "success", // 'success' –∏–ª–∏ 'error'
    "summary": "–ü—Ä–∏–∑–Ω–∞–∫ '–°—Ä–µ–¥–Ω–∏–π —á–µ–∫' —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º —Å–∏–ª—å–Ω—ã–º –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä–æ–º —Å –ø–æ—Ä–æ–≥–æ–º 8500. Gain: 0.12.", // –ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥ –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞
    "details": { // –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤ –∏–ª–∏ –¥–ª—è –æ—Ç—á–µ—Ç–∞
        "best_feature": "–°—Ä–µ–¥–Ω–∏–π —á–µ–∫",
        "split_threshold": 8500.0,
        "information_gain": 0.12,
        "group_0_mean": 4300.0,
        "group_1_mean": 12100.0
    },
    "error_message": None // –°–æ–æ–±—â–µ–Ω–∏–µ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
}
```


2. **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã 5 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**:

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ |
|-----------|--------|----------|
| `PrimaryFeatureFinder` | –û–±—É—á–∞–µ—Ç `DecisionTreeClassifier(max_depth=1)` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª—É—á—à–∏–π –ø—Ä–∏–∑–Ω–∞–∫, –ø–æ—Ä–æ–≥, gain | `sklearn.tree` |
| `CorrelationAnalysis` | –°—á–∏—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é –ü–∏—Ä—Å–æ–Ω–∞ –º–µ–∂–¥—É —á–∏—Å–ª–æ–≤—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ –∏ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–ø–æ—Å–ª–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è) | `pandas`, `numpy` |
| `DescriptiveStatsComparator` | –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç mean, median, std –ø–æ –≥—Ä—É–ø–ø–∞–º (0 –∏ 1), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å —Ä–∞–∑–Ω–∏—Ü–µ–π > 20% | `pandas` |
| `CategoricalFeatureAnalysis` | –î–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–ø—Ä—è–∂—ë–Ω–Ω–æ—Å—Ç–∏ + —Ç–µ—Å—Ç –•–∏-–∫–≤–∞–¥—Ä–∞—Ç (`scipy.stats.chi2_contingency`) | `scipy` |
| `FullModelFeatureImportance` | –û–±—É—á–∞–µ—Ç `RandomForestClassifier` –∏–ª–∏ `LGBM`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ø-10 –≤–∞–∂–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ | `sklearn` / `lightgbm` |

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - –í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞–∞—é—Ç `status: "error"` –∏ `error_message` –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö.


## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
pytest tests/test_tools.py -v -s
```

+ –¥–æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Ä—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
+ –¥–æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã

–°–æ–∑–¥–∞–Ω–∞ –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –≥–¥–µ:

1. –ê–Ω–∞–ª–∏—Ç–∏–∫ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç, –∫–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å.
2. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç –≤–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é-—Ç—É–ª–∑.
3. –°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –∏—Ö –¥–∏–∞–ª–æ–≥.
4. Summarizer –≤ –∫–æ–Ω—Ü–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç.


# InsightFinder ‚Äî –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

## –û–ø–∏—Å–∞–Ω–∏–µ
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç EDA –¥–ª—è —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –±–∏–Ω–∞—Ä–Ω–æ–π —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.9+
- LangChain
- qwen2.5-32b-instruct (—á–µ—Ä–µ–∑ NeuralDeep)
- pandas, scikit-learn, scipy

## –ó–∞–ø—É—Å–∫
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
2. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Å `OPENAI_API_KEY` –∏ `OPENAI_BASE_URL`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `python main.py`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- `tools/` ‚Äî –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- `agents/` ‚Äî –∞–≥–µ–Ω—Ç—ã –Ω–∞ LangChain
- `core/` ‚Äî —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
- `report/` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞
- `main.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- `report.md` ‚Äî –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç

---

–ù–∞–¥–µ—é—Å—å, –Ω–µ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è.

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
–ï—Å–ª–∏ –ø–æ API –∏—Å–ø–æ–ª—å–∑—É–π
```
pip install langchain langchain-openai python-dotenv
```
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```
# .env
OPENAI_API_KEY=
OPENAI_BASE_URL=
```


–ï—Å–ª–∏ Ollama
pip install langchain  langchain-ollama python-dotenv

–ù—É–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å:
1.  agents/analyst.py –∏ agents/summarizer.py
```
from langchain_ollama import ChatOllama  # ‚Üê –≤–º–µ—Å—Ç–æ ChatOpenAI
```

2. agents/summarizer.py
from langchain_ollama import ChatOllama

```
def generate_summary(results: str, filename: str = "unknown.csv") -> str:
    prompt = ChatPromptTemplate.from_template(SUMMARIZER_PROMPT)
    llm = ChatOllama(model="llama3", temperature=0.3)
    chain = prompt | llm
    response = chain.invoke({"results": results, "filename": filename})
    return response.content
```


3. agents/executor.py —Ç–æ–∂–µ –∑–∞–º–µ–Ω–∏ LLM
```
# agents/executor.py
from langchain.agents import AgentExecutor, create_openai_tools_agent
from langchain_ollama import ChatOllama  # ‚Üê –∑–¥–µ—Å—å

def create_executor_agent(tools, analyst_prompt, analyst_llm):
    # –°–æ–∑–¥–∞—ë–º –∞–≥–µ–Ω—Ç —Å —Ç—É–ª–∑–∞–º–∏
    agent = create_openai_tools_agent(
        llm=ChatOllama(model="llama3", temperature=0),  # ‚Üê –≤–º–µ—Å—Ç–æ ChatOpenAI
        tools=tools,
        prompt=analyst_prompt
    )
    return AgentExecutor(agent=agent, tools=tools, verbose=True)

```