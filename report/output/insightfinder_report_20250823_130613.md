

# Аналитический отчёт по данным из файла: heart_disease_dataset.csv  

## Ключевые выводы  
- **Главный признак** по дереву решений — `oldpeak` (порог 5.6500, Information Gain 0.0019).  
- **Корреляции** с целевой переменной:  
  - **Положительные** (топ 5): `fbs` (0.020), `bmi` (0.015), `ca` (0.015), `chol` (0.014), `sex` (0.008).  
  - **Отрицательные** (топ 5): `age` (-0.014), `smoking` (-0.012), `trestbps` (-0.011), `diabetes` (-0.007), `cp` (-0.002).  
- **Выбросы**: 1724 выброса в 4 признаках (`fbs`, `exang`, `ca`, `diabetes`).  
- **Важность признаков** по RandomForest: `chol` (0.1330), `bmi` (0.1274), `thalach` (0.1272), `trestbps` (0.1246), `oldpeak` (0.1146).  
- **Значимые взаимодействия**: 5 признаков (`fbs`, `chol`, `sex`, `exang`, `thalach`), но конкретные комбинации не указаны.  

---

## 2. Анализ корреляций  
**Топ положительных корреляций:**  
- `fbs` (0.020): Слабая положительная связь между уровнем глюкозы натощак и наличием болезни.  
- `bmi` (0.015): Умеренная положительная корреляция с индексом массы тела.  
- `ca` (0.015): Слабая положительная связь с количеством крупных сосудов.  
- `chol` (0.014): Слабая положительная корреляция с уровнем холестерина.  
- `sex` (0.008): Очень слабая связь с полом (возможно, требует проверки на статистическую значимость).  

**Топ отрицательных корреляций:**  
- `age` (-0.014): Слабая отрицательная связь с возрастом (противоречит медицинским ожиданиям, требует проверки).  
- `smoking` (-0.012): Слабая отрицательная корреляция с курением (ожидается обратная зависимость).  
- `trestbps` (-0.011): Слабая отрицательная связь с артериальным давлением.  
- `diabetes` (-0.007): Слабая отрицательная корреляция с диабетом (ожидается положительная).  
- `cp` (-0.002): Практически отсутствует связь с типом боли в груди.  

**Интерпретация:**  
Корреляции слабые (максимум 0.020), что указывает на низкую линейную зависимость между признаками и целевой переменной. Однако `chol` (холестерин) и `bmi` (ИМТ) демонстрируют умеренные корреляции, что согласуется с медицинскими знаниями о их влиянии на сердечно-сосудистые заболевания.  

**Графики:**  
- *График 1*: Корреляционная матрица (если доступен) — для визуализации всех связей.  
- *График 2*: Scatter plot `chol` vs. `target` — для проверки нелинейных зависимостей.  

---

## 5. Анализ распределений и визуализация  
**Ключевые графики:**  
1. **Распределение `chol`** (Boxplot):  
   - Визуально: Медиана и размах значений в группе 1 (`target=1`) выше, чем в группе 0.  
   - Интерпретация: Повышенный холестерин (`chol`) может быть маркером риска.  

2. **Распределение `thalach`** (Boxplot):  
   - Визуально: В группе 1 наблюдается более низкий максимум и смещение медианы влево.  
   - Интерпретация: Снижение максимальной частоты сердечных сокращений (`thalach`) может указывать на патологию.  

3. **Распределение `trestbps`** (Boxplot):  
   - Визуально: Разброс значений в группе 1 шире, но медианы близки.  
   - Интерпретация: Артериальное давление (`trestbps`) не является сильным дифференциатором, но требует проверки выбросов.  

**Рекомендации по графикам:**  
- *chol*: Обратить внимание на асимметрию и выбросы (см. раздел 6).  
- *thalach*: Проверить, не связаны ли низкие значения с возрастными факторами (см. раздел 2, `age` имеет слабую отрицательную корреляцию).  

---

## 6. Выбросы и аномалии  
**Обнаруженные выбросы:**  
| Признак | Количество выбросов | Процент | Метод |  
|---------|-------------------|---------|-------|  
| `fbs` | 447 | 14.57% | IQR |  
| `exang` | 541 | 17.63% | IQR |  
| `ca` | 141 | 4.59% | IQR |  
| `diabetes` | 595 | 19.39% | IQR |  

**Интерпретация:**  
- Наибольшее количество выбросов в `exang` (17.63%) и `diabetes` (19.39%), что может указывать на ошибки ввода данных или редкие случаи (например, аномально высокий уровень глюкозы у некурящих).  
- Выбросы в `fbs` и `ca` требуют дополнительной проверки, так как они могут искажать статистические выводы.  

---

## 8. Важность признаков (модель)  
**Ранжирование по RandomForest:**  
1. `chol` (0.1330) — наиболее важный признак.  
2. `bmi` (0.1274) — умеренная важность.  
3. `thalach` (0.1272) — влияние максимальной ЧСС.  
4. `trestbps` (0.1246) — базовое давление.  
5. `oldpeak` (0.1146) — депрессия ST-сегмента.  

**Интерпретация:**  
- `chol` доминирует в модели, что подтверждает его роль в диагностике болезни.  
- `thalach` и `trestbps` отражают сердечно-сосудистую нагрузку, но их важность ниже, чем у холестерина.  
- `oldpeak`, выбранный деревом как главный, занимает 5-е место в важности модели, что может указывать на его специфичность в определенных условиях.  

**Графики:**  
- *График 3*: Feature importance plot — для наглядного сравнения вкладов признаков.  

---

## Заключение и рекомендации  
### **Синтез выводов**  
Наиболее значимые различия между группами (`target=1` vs. `target=0`) связаны с:  
1. **`chol`** (холестерин) — ключевой фактор по модели и корреляции.  
2. **`thalach`** (максимальная ЧСС) — снижение значений в группе 1.  
3. **`oldpeak`** (депрессия ST-сегмента) — главный признак дерева решений.  

### **Рекомендации**  
1. **Проверить выбросы** в `exang` и `diabetes` (17.63% и 19.39% соответственно) — возможно, требуется очистка данных или отдельный анализ редких случаев.  
2. **Исследовать нелинейные зависимости** для `chol` и `thalach` (например, через полиномиальные признаки или деревья решений).  
3. **Уточнить статистическую значимость корреляций** (например, через p-value), так как текущие значения слабые.  
4. **Анализ взаимодействий** (раздел 7) — если есть дополнительные данные о комбинациях признаков (например, `chol` × `age`), это может улучшить модель.  
5. **Углубленный анализ `oldpeak`** — проверить, как порог 5.6500 влияет на разделение групп (например, через ROC-кривую).  

**Дополнительно:**  
- Рекомендуется использовать **SHAP-значения** для интерпретации вклада `chol` и других признаков в предсказания модели.  
- Проверить **баланс классов** — если группа 1 значительно меньше, это может влиять на важность признаков.  

---  
**Примечание:**  
- Разделы 1, 3, 4, 7 и 9 исключены из-за отсутствия данных.  
- Все выводы основаны на предоставленных числах и графиках. Для более точного анализа требуется дополнительная статистика (средние, медианы, p-value).