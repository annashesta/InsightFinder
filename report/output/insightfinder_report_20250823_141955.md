

# Аналитический отчёт по данным из файла: heart_disease_dataset.csv  

## Ключевые выводы  
- Признак **'oldpeak'** выбран деревом как главный. Порог = **5.6500**, Information Gain = **0.0019**  
- Найдены корреляции: **5 положительных, 5 отрицательных** (топ по модулю).  
- Созданы визуализации для **3 ключевых признаков**.  
- Обнаружено **1724 выбросов** в **4 признаках**.  
- Топ-важный признак по **RandomForest** — **'chol'** (0.1330).  

---  

## 1. Ключевой дифференцирующий признак  
**Признак 'oldpeak'** (степень депрессии ST при нагрузке) выбран как главный в дереве решений с порогом **5.65** и Information Gain **0.0019**. Это означает, что разделение данных по этому признаку на две группы (ниже/выше порога) даёт небольшой, но статистически значимый прирост информации для классификации.  

*График: "Важность признаков по Random Forest"* (подтверждает, что 'oldpeak' входит в топ-5 важных признаков).  

---  

## 2. Анализ корреляций  
**Топ положительных корреляций с целевой переменной (наличие болезни сердца):**  
| Признак | Корреляция |  
|---------|------------|  
| fbs     | 0.020      |  
| bmi     | 0.015      |  
| ca      | 0.015      |  
| chol    | 0.014      |  
| sex     | 0.008      |  

**Топ отрицательных корреляций:**  
| Признак | Корреляция |  
|---------|------------|  
| age     | -0.014     |  
| smoking | -0.012     |  
| trestbps| -0.011     |  
| diabetes| -0.007     |  
| cp      | -0.002     |  

**Интерпретация:**  
- **'fbs' (сахар натощак)** имеет слабую положительную связь: пациенты с высоким уровнем сахара (1) немного чаще относятся к группе 1.  
- **'bmi' и 'ca'** (количество сосудов) также слабо коррелируют с болезнью, что может указывать на их роль как второстепенных факторов.  
- **'age' и 'smoking'** слабо отрицательно связаны: возраст и курение не являются сильными предикторами в этом наборе данных.  
- **'thalach' (максимальная ЧСС)** не входит в топ корреляций, но его важность в модели (раздел 5) требует отдельного рассмотрения.  

*График: "Тепловая карта корреляций"* (подтверждает указанные значения).  

---  

## 3. Анализ распределений и визуализация  
Для трёх признаков построены **boxplot**, показывающие различия между группами:  

### **'chol' (холестерин)**  
- В группе **1** (больные) медиана холестерина **выше**, чем в группе **0** (здоровые).  
- *График: "Boxplot распределения chol для групп 0 и 1"* (визуально подтверждает разницу).  

### **'thalach' (максимальная ЧСС)**  
- В группе **1** значения **thalach** в среднем **ниже**, что может указывать на сниженную физическую выносливость у больных.  
- *График: "Boxplot распределения thalach для групп 0 и 1"* (разница в медианах и квартили).  

### **'trestbps' (артериальное давление)**  
- Распределения для групп **0** и **1** **практически идентичны**, различий не обнаружено.  
- *График: "Boxplot распределения trestbps для групп 0 и 1"* (отсутствие значимых отклонений).  

---  

## 4. Выбросы и аномалии  
Обнаружено **1724 выбросов** в **4 признаках** (метод **IQR**):  

| Признак   | Количество выбросов | Процент |  
|-----------|---------------------|---------|  
| exang     | 541                 | 17.63%  |  
| diabetes  | 595                 | 19.39%  |  
| fbs       | 447                 | 14.57%  |  
| ca        | 141                 | 4.59%   |  

**Интерпретация:**  
- Наибольшее количество выбросов в **'diabetes'** (19.39%) и **'exang'** (17.63%). Это может быть связано с ошибками ввода или редкими случаями (например, аномально высокие значения 'exang' = 1 при отсутствии других факторов).  
- Рекомендуется проверить эти признаки на **дубликаты, ошибки кодирования** или **редкие комбинации** (например, 'exang' = 1 при 'oldpeak' = 0).  

---  

## 5. Важность признаков (модель)  
По **RandomForest** признаки ранжируются так:  

| Признак   | Важность |  
|-----------|----------|  
| chol      | 0.1330   |  
| bmi       | 0.1274   |  
| thalach   | 0.1272   |  
| trestbps  | 0.1246   |  
| oldpeak   | 0.1146   |  
| age       | 0.1138   |  

**Интерпретация:**  
- **'chol'** — самый важный признак, что согласуется с его положительной корреляцией (0.014).  
- **'thalach' и 'oldpeak'** входят в топ-5, несмотря на слабые корреляции, что указывает на их **нелинейное влияние** или взаимодействие с другими факторами.  

*График: "График важности признаков по Random Forest"* (визуализация ранжирования).  

---  

## Заключение и рекомендации  

### **Синтез выводов**  
Наиболее значимые различия между группами **1 (больные)** и **0 (здоровые)**:  
1. **'chol'** — выше в группе 1 (по визуализации boxplot).  
2. **'thalach'** — ниже в группе 1, что может указывать на снижение физической активности.  
3. **'oldpeak'** — ключевой признак для дерева решений, но без конкретных статистик.  

### **Рекомендации**  
1. **Очистка данных:**  
   - Проверить выбросы в **'exang'** и **'diabetes'** (17.63% и 19.39% соответственно).  
2. **Глубокий анализ 'oldpeak':**  
   - Добавить статистику (среднее, медиану) для этого признака, так как его важность в модели высока.  
3. **Исследование взаимодействий:**  
   - Проверить, как **'chol'** взаимодействует с **'age'** или **'sex'** (например, возрастные группы с высоким холестерином).  
4. **Дополнительные визуализации:**  
   - Построить **гистограммы** для 'chol' и 'thalach', чтобы оценить форму распределений.  
   - Проверить **категориальные признаки** (например, 'cp', 'restecg'), так как их важность в модели невысока, но они могут влиять на интерпретацию.  

**Итог:**  
- **'chol'** и **'thalach'** — главные кандидаты для дальнейшего изучения.  
- **'oldpeak'** требует уточнения статистики.  
- **Выбросы** в 'exang' и 'diabetes' могут влиять на качество модели и требуют проверки.  

---  
**Примечание:**  
- Графики для 'chol', 'thalach', 'trestbps' доступны в папке `images/`.  
- Если в данных отсутствуют статистические различия >20%, фокус смещается на **визуализацию и важность признаков в модели**.