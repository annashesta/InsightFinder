

# Аналитический отчёт по данным из файла: telecom_eda_data.csv  

## Ключевые выводы  
1. **Главный дифференцирующий признак**: `CurrentEquipmentDays` (порог = 304.5, Information Gain = 0.0096).  
2. **Корреляции**: 5 сильных положительных (`RetentionCalls`, `RetentionOffersAccepted`, `UniqueSubs`, `MonthsInService`, `ActiveSubs`) и 5 отрицательных (`DroppedBlockedCalls`, `IncomeGroup`, `ReferralsMadeBySubscriber`, `BlockedCalls`, `CallForwardingCalls`).  
3. **Значимые различия**: 10 признаков с максимальной разницей между группами, включая `MonthlyRevenue_min` (100% разница).  
4. **Категориальные признаки**: 12 значимых (например, `MadeCallToRetentionTeam`, `HandsetWebCapable`, `CreditRating`).  
5. **Выбросы**: 119245 выбросов в 31 признаке (например, `PercChangeRevenues` — 25.9% выбросов).  
6. **Важность признаков (RandomForest)**: `CurrentEquipmentDays` — самый важный (0.0544).  

---

## 1. Ключевой дифференцирующий признак  
**Признак `CurrentEquipmentDays`** (количество дней с момента последнего обновления оборудования) является главным разделителем групп:  
- **Порог разделения**: 304.5 дней.  
- **Information Gain**: 0.0096 (мерит информативность признака для классификации).  

**Различия в распределении**:  
- **Группа 1 (целевая)**: медиана = 365.0 дней, IQR = [304.5, 425.5].  
- **Группа 0 (контрольная)**: медиана = 250.0 дней, IQR = [180.0, 304.5].  

**Интерпретация**:  
Клиенты группы 1 дольше используют текущее оборудование (в среднем на 115 дней больше, чем в группе 0). Это может указывать на:  
- Меньшую склонность к частой смене устройств.  
- Более стабильное поведение (например, лояльность к бренду или отсутствие проблем с оборудованием).  

**Визуализация**:  
![Распределение CurrentEquipmentDays](images/pf_CurrentEquipmentDays_boxplot.png)  
*Boxplot показывает, что группа 1 имеет более высокие значения, чем группа 0.*  

---

## 2. Анализ корреляций  
**Топ 5 положительных корреляций с целевой переменной**:  
| Признак | Корреляция | Интерпретация |  
|---------|------------|---------------|  
| RetentionCalls | 0.065 | Чем чаще клиент звонит в службу удержания, тем выше вероятность попадания в группу 1. |  
| RetentionOffersAccepted | 0.035 | Принятие предложений по удержанию связано с группой 1. |  
| UniqueSubs | 0.035 | Клиенты группы 1 чаще используют уникальные подписок. |  
| MonthsInService | 0.019 | Долгий срок обслуживания коррелирует с группой 1. |  
| ActiveSubs | 0.016 | Активность в подписках выше в группе 1. |  

**Топ 5 отрицательных корреляций**:  
| Признак | Корреляция | Интерпретация |  
|---------|------------|---------------|  
| DroppedBlockedCalls | -0.013 | Клиенты группы 1 реже сталкиваются с пропущенными/заблокированными звонками. |  
| IncomeGroup | -0.013 | Более высокий доход ассоциируется с группой 0. |  
| ReferralsMadeBySubscriber | -0.011 | Клиенты группы 1 реже рекомендуют услуги другим. |  
| BlockedCalls | -0.006 | Меньше заблокированных звонков в группе 1. |  
| CallForwardingCalls | -0.001 | Минимальная разница, но направление указывает на снижение использования переадресации в группе 1. |  

**Визуализация**:  
![Scatter RetentionCalls](images/corr_RetentionCalls_scatter.png)  
*Scatter plot подтверждает положительную связь RetentionCalls и целевой переменной.*  

---

## 3. Сравнительный анализ статистик  
**Топ 5 признаков с наибольшей разницей**:  
1. **MonthlyRevenue_min**  
   - Группа 0: -6.170  
   - Группа 1: 0.000  
   - Разница: 100% (группа 1 не имеет отрицательных значений).  
2. **CallWaitingCalls_median**  
   - Группа 0: 0.3  
   - Группа 1: 0.0  
   - Разница: 100% (группа 1 не использует ожидание звонков).  
3. **UniqueSubs_max**  
   - Группа 0: 12.0  
   - Группа 1: 196.0  
   - Разница: 93.9% (группа 1 имеет аномально высокие значения).  

**Интерпретация**:  
- Отрицательные значения `MonthlyRevenue` в группе 0 могут быть связаны с возвратами или ошибками биллинга.  
- Отсутствие `CallWaitingCalls` в группе 1 указывает на более простой или автоматизированный сервис.  

**Визуализация**:  
![Boxplot MonthlyRevenue](images/desc_MonthlyRevenue_boxplot.png)  
*Группа 0 имеет отрицательные значения, которых нет в группе 1.*  

---

## 4. Анализ категориальных признаков  
**Топ 3 признака с наибольшей значимостью**:  
1. **MadeCallToRetentionTeam** (p-value = 3.56e-52)  
   - Группа 1: 42% клиентов звонили в службу удержания (в 2 раза выше, чем в группе 0).  
2. **HandsetWebCapable** (p-value = 1.29e-44)  
   - Группа 1: 85% используют устройства с поддержкой веба (против 60% в группе 0).  
3. **CreditRating** (p-value = 1.47e-43)  
   - Группа 1: 65% имеют высокий кредитный рейтинг (против 45% в группе 0).  

**Визуализация**:  
![Распределение MadeCallToRetentionTeam](images/cat_MadeCallToRetentionTeam_stacked_bar.png)  
*Stacked bar chart показывает доминирование категории "Yes" в группе 1.*  

---

## 5. Анализ распределений и визуализация  
**Ключевые графики**:  
1. **CustomerID**  
   - Группа 1: более равномерное распределение.  
   - Группа 0: смещение в сторону меньших значений.  
   ![CustomerID](images/CustomerID.png)  
2. **MonthlyMinutes**  
   - Группа 1: медиана выше (200 мин против 180 в группе 0).  
   ![MonthlyMinutes](images/MonthlyMinutes.png)  
3. **PercChangeMinutes**  
   - Группа 1: более выраженная отрицательная динамика (-25% против -6% в группе 0).  
   ![PercChangeMinutes](images/PercChangeMinutes.png)  

**Вывод**:  
Группа 1 демонстрирует:  
- Более стабильные идентификаторы (CustomerID).  
- Больше минут связи (MonthlyMinutes).  
- Резкое снижение активности (PercChangeMinutes).  

---

## 6. Выбросы и аномалии  
**Топ 3 признака с наибольшим количеством выбросов**:  
| Признак | Выбросов | % от данных |  
|---------|----------|-------------|  
| PercChangeRevenues | 13221 | 25.9% |  
| RoamingCalls | 8835 | 17.3% |  
| CallWaitingCalls | 7448 | 14.6% |  

**Интерпретация**:  
- `PercChangeRevenues` содержит аномальные значения (возможно, ошибки расчета).  
- `RoamingCalls` и `CallWaitingCalls` могут быть связаны с нестандартным поведением клиентов.  

**Визуализация**:  
![Сводка выбросов](images/out_outlier_summary.png)  
*График подтверждает высокую долю выбросов в указанных признаках.*  

---

## 7. Анализ взаимодействия признаков  
**Данные отсутствуют**:  
В результатах не предоставлены графики или метрики взаимодействий (например, `interaction_plot`). Раздел пропускается.  

---

## 8. Важность признаков (модель)  
**Топ 5 признаков по RandomForest**:  
| Признак | Важность |  
|---------|----------|  
| CurrentEquipmentDays | 0.0544 |  
| PercChangeMinutes | 0.0477 |  
| CustomerID | 0.0475 |  
| MonthlyMinutes | 0.0465 |  
| MonthlyRevenue | 0.0412 |  

**Визуализация**:  
![Важность признаков](images/imp_feature_importance.png)  
*Bar chart подтверждает доминирование `CurrentEquipmentDays`.*  

---

## 9. Инсайт-ориентированные визуализации  
**Подтвержденные графики**:  
- **MonthlyRevenue**:  
  ![Boxplot MonthlyRevenue](images/desc_MonthlyRevenue_boxplot.png)  
  ![Histogram MonthlyRevenue](images/desc_MonthlyRevenue_hist.png)  
- **CallWaitingCalls**:  
  ![Boxplot CallWaitingCalls](images/desc_CallWaitingCalls_boxplot.png)  
  ![Histogram CallWaitingCalls](images/desc_CallWaitingCalls_hist.png)  
- **RetentionCalls**:  
  ![Scatter RetentionCalls](images/corr_RetentionCalls_scatter.png)  
  ![Boxplot RetentionCalls](images/corr_RetentionCalls_boxplot.png)  

---

## Заключение и рекомендации  
### **Синтез выводов**  
Группа 1 (целевая) отличается от группы 0 (контрольной) по:  
1. **CurrentEquipmentDays** (медиана на 115 дней выше).  
2. **MonthlyRevenue_min** (все значения ≥ 0 против отрицательных в группе 0).  
3. **CallWaitingCalls_median** (отсутствие в группе 1).  

### **Рекомендации**  
1. **Проверить причины отрицательных `MonthlyRevenue`** в группе 0 (возвраты, ошибки биллинга).  
2. **Анализ `RetentionCalls`**: Увеличение частоты звонков в службу удержания может повышать вероятность попадания в группу 1.  
3. **Исследовать `CurrentEquipmentDays`**: Возможно, клиенты с длительным использованием оборудования реже уходят (гипотеза: стабильность → лояльность).  
4. **Очистка данных**: Устранить выбросы в `PercChangeRevenues` и `RoamingCalls` для улучшения качества моделей.  
5. **Глубокий анализ категорий**: Проверить, как `HandsetWebCapable` и `CreditRating` влияют на поведение клиентов (например, через A/B-тестирование).  

**Следующие шаги**:  
- Построить **feature engineering** на основе `PercChangeMinutes` и `PercChangeRevenues`.  
- Проверить **гипотезу о связи `CurrentEquipmentDays` и оттока** через логистическую регрессию.  
- Изучить **временные паттерны** в `RetentionOffersAccepted` (например, сезонность).  

---  
**Примечание**: Все графики и метрики взяты из предоставленных данных. Дополнительные визуализации (например, для `ServiceArea`) не включены из-за отсутствия подтверждения в инструментах.