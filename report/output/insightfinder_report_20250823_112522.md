

# Аналитический отчёт по данным из файла: telecom_eda_data.csv  

## Ключевые выводы  
1. **Ключевой дифференцирующий признак** — `CurrentEquipmentDays` (главный по важности в RandomForest, порог = 304.5 дней, Information Gain = 0.0096).  
2. **Корреляции**:  
   - **Топ 5 положительных**: `RetentionCalls` (0.065), `RetentionOffersAccepted` (0.035), `UniqueSubs` (0.035), `MonthsInService` (0.019), `ActiveSubs` (0.016).  
   - **Топ 5 отрицательных**: `DroppedBlockedCalls` (-0.013), `IncomeGroup` (-0.013), `ReferralsMadeBySubscriber` (-0.011), `BlockedCalls` (-0.006), `CallForwardingCalls` (-0.001).  
3. **Значимые различия**:  
   - `MonthlyRevenue_min`: группа 0 = -6.170, группа 1 = 0.000 (разница 100%).  
   - `CallWaitingCalls_median`: группа 0 = 0.300, группа 1 = 0.000 (разница 100%).  
   - `UniqueSubs_max`: группа 0 = 12.000, группа 1 = 196.000 (разница 93.9%).  
4. **Выбросы**: 119245 выбросов в 31 признаке (например, `PercChangeRevenues` — 25.9%, `RoamingCalls` — 17.31%).  
5. **Категориальные признаки**: 12 значимых (например, `MadeCallToRetentionTeam` с p-value = 3.56e-52).  
6. **Важность признаков**: `CurrentEquipmentDays` (0.0545), `CustomerID` (0.0475), `PercChangeMinutes` (0.0474).  

---

## 1. Ключевой дифференцирующий признак  
**Признак `CurrentEquipmentDays` выбран деревом как главный** с порогом **304.5 дней** и Information Gain **0.0096**.  

- **Интерпретация**:  
  - Клиенты с `CurrentEquipmentDays > 304.5` (группа 1) демонстрируют более высокую вероятность удержания.  
  - Это может указывать на то, что длительное использование оборудования (например, смартфона) снижает отток.  
- **Визуализация**:  
  - Графики `pf_CurrentEquipmentDays_boxplot` и `pf_CurrentEquipmentDays_histogram` показывают, что распределение дней в группе 1 смещено вправо, а в группе 0 — более компактное.  

---

## 2. Анализ корреляций  
**Топ 5 положительных и отрицательных корреляций с целевой переменной**:  

| Признак                     | Корреляция | Интерпретация                                                                 |
|-----------------------------|------------|-------------------------------------------------------------------------------|
| `RetentionCalls`            | 0.065      | Чем чаще клиент звонил в службу удержания, тем выше вероятность остаться (группа 1). |
| `RetentionOffersAccepted`   | 0.035      | Принятие предложений по удержанию коррелирует с лояльностью.                |
| `UniqueSubs`                | 0.035      | Клиенты с большим количеством уникальных подписок чаще остаются.           |
| `MonthsInService`           | 0.019      | Длительность обслуживания слабо, но значимо связана с удержанием.          |
| `ActiveSubs`                | 0.016      | Активные подписки положительно влияют на удержание.                         |
| `DroppedBlockedCalls`       | -0.013     | Клиенты с высоким количеством пропущенных/заблокированных звонков чаще уходят (группа 0). |
| `IncomeGroup`               | -0.013     | Низкий доход (или ошибки в данных) коррелирует с оттоком.                 |
| `ReferralsMadeBySubscriber` | -0.011     | Клиенты, активно привлекающие рефералов, чаще теряют лояльность.         |
| `BlockedCalls`              | -0.006     | Блокировки вызовов слабо, но значимо связаны с оттоком.                 |
| `CallForwardingCalls`       | -0.001     | Использование переадресации звонков почти не влияет на удержание.         |

- **Графики**:  
  - `corr_RetentionCalls_scatter` и `corr_RetentionCalls_boxplot` визуализируют связь между количеством звонков в службу удержания и целевой переменной.  
  - `corr_RetentionOffersAccepted_scatter` и `corr_RetentionOffersAccepted_boxplot` подтверждают, что принятие предложений снижает отток.  

---

## 3. Сравнительный анализ статистик  
**Топ 10 значимых различий между группами**:  

| Признак                          | Группа 0 (контроль) | Группа 1 (целевая) | Разница (%) | Интерпретация                                                                 |
|----------------------------------|----------------------|---------------------|--------------|-------------------------------------------------------------------------------|
| `MonthlyRevenue_min`             | -6.170               | 0.000               | 100%         | У клиентов группы 0 (ушедших) есть отрицательные значения дохода, что может указывать на долги или ошибки. |
| `CallWaitingCalls_median`        | 0.300                | 0.000               | 100%         | Клиенты группы 1 реже используют ожидание вызова (возможно, из-за удобства альтернативных сервисов). |
| `UniqueSubs_max`                 | 12.000               | 196.000             | 93.9%        | Удержанные клиенты (группа 1) имеют значительно больше уникальных подписок. |
| `ActiveSubs_max`                 | 11.000               | 53.000              | 79.2%        | Активные подписки у группы 1 в 4.8 раза выше, чем у группы 0. |
| `PercChangeMinutes_mean`         | -5.971               | -25.458             | 76.5%        | Уменьшенное использование минут (более резкий спад) характерно для ушедших клиентов (группа 0). |
| `ReferralsMadeBySubscriber_max`  | 35.000               | 9.000               | 74.3%        | Клиенты с высоким количеством рефералов чаще уходят (группа 0). |
| `PercChangeMinutes_median`       | -3.000               | -11.000             | 72.7%        | Медианное снижение минут у группы 0 в 3.7 раза меньше, чем у группы 1. |
| `DirectorAssistedCalls_max`      | 159.390              | 45.790              | 71.3%        | Клиенты группы 0 чаще обращаются к операторам, но это не предотвращает отток. |
| `PercChangeRevenues_mean`        | -1.471               | -0.497              | 66.2%        | Доходы группы 1 (удержанных) стабильнее, чем у группы 0. |
| `AdjustmentsToCreditRating_max`  | 25.000               | 9.000               | 64.0%        | У клиентов группы 0 чаще корректировали кредитный рейтинг (возможно, из-за просрочек). |

- **Графики**:  
  - `desc_MonthlyRevenue_boxplot` и `desc_MonthlyRevenue_histogram` показывают, что у группы 0 есть отрицательные значения дохода, которых нет у группы 1.  
  - `desc_CallWaitingCalls_boxplot` и `desc_CallWaitingCalls_histogram` подтверждают отсутствие вызова ожидания у группы 1.  

---

## 4. Анализ категориальных признаков  
**12 значимых категориальных признаков (топ по p-value)**:  

| Признак                          | p-value       | Интерпретация                                                                 |
|----------------------------------|--------------|-------------------------------------------------------------------------------|
| `MadeCallToRetentionTeam`        | 3.56e-52     | Доля клиентов, звонивших в службу удержания, значительно выше в группе 1 (график `cat_MadeCallToRetentionTeam_stacked_bar`). |
| `HandsetWebCapable`              | 1.29e-44     | Веб-способные устройства чаще используются в группе 1 (график `cat_HandsetWebCapable_stacked_bar`). |
| `CreditRating`                   | 1.47e-43     | Высокий кредитный рейтинг коррелирует с удержанием (график `cat_CreditRating_stacked_bar`). |
| `HandsetRefurbished`             | 1.45e-11     | Ремонтированные устройства чаще встречаются у ушедших клиентов (группа 0). |
| `HandsetPrice`                   | 2.79e-09     | Дорогие устройства ассоциируются с группой 1. |
| `MaritalStatus`                  | 9.59e-09     | Семейное положение влияет на отток (например, холостые чаще уходят). |
| `ServiceArea`                    | 1.86e-07     | Различия в регионах обслуживания (ServiceArea) сильно влияют на удержание. |
| `RespondsToMailOffers`           | 2.39e-07     | Клиенты группы 1 чаще реагируют на почтовые предложения. |
| `BuysViaMailOrder`               | 9.67e-07     | Покупки через почту чаще характерны для группы 1. |
| `PrizmCode`                      | 2.61e-04     | Демографический код Prizm различается между группами. |
| `Homeownership`                 | 3.04e-03     | Владельцы жилья чаще остаются (группа 1). |
| `ChildrenInHH`                  | 3.16e-02     | Наличие детей в домохозяйстве слабо, но значимо влияет на отток. |

---

## 5. Анализ распределений и визуализация  
**Ключевые графики**:  
1. **`CustomerID`** (`CustomerID_boxplot`):  
   - Распределение идентификаторов клиентов в группах различается, но интерпретация требует дополнительного контекста (например, последовательность присвоения ID).  
2. **`MonthlyMinutes`** (`MonthlyMinutes_boxplot`):  
   - В группе 1 медиана выше, но есть выбросы (см. раздел 6).  
3. **`PercChangeMinutes`** (`PercChangeMinutes_boxplot`):  
   - Группа 0 имеет более высокие (менее отрицательные) значения, что может указывать на снижение использования минут перед уходом.  

---

## 6. Выбросы и аномалии  
**Обнаружено 119245 выбросов в 31 признаке** (метод IQR).  

| Признак                     | % выбросов | Влияние на анализ                                                                 |
|-----------------------------|------------|-----------------------------------------------------------------------------------|
| `PercChangeRevenues`        | 25.90%     | Высокий процент выбросов может искажать корреляции и важность признаков.     |
| `RoamingCalls`              | 17.31%     | Аномально высокие значения в группе 0 (ушедших) могут быть связаны с ошибками. |
| `DroppedBlockedCalls`       | 7.71%      | Частые пропущенные/заблокированные звонки характерны для группы 0.            |
| `CallWaitingCalls`          | 14.59%     | Выбросы в этом признаке могут указывать на технические проблемы у ушедших.    |

- **Рекомендация**:  
  - Проверить влияние выбросов на модель (например, через сравнение с обработанными данными).  
  - График `out_outlier_summary` показывает признаки с наибольшим количеством аномалий.  

---

## 7. Важность признаков (модель)  
**Топ-10 признаков по важности в RandomForest**:  

| Признак                     | Важность | Интерпретация                                                                 |
|-----------------------------|----------|-------------------------------------------------------------------------------|
| `CurrentEquipmentDays`      | 0.0545   | Главный предиктор: клиенты с длительным использованием оборудования остаются. |
| `CustomerID`                | 0.0475   | Возможно, связан с историей взаимодействия (требует проверки).             |
| `PercChangeMinutes`         | 0.0474   | Резкие изменения в использовании минут критичны для оттока.               |
| `MonthlyMinutes`            | 0.0467   | Общее количество минут влияет на удержание.                                 |
| `MonthlyRevenue`            | 0.0413   | Доходы клиентов коррелируют с лояльностью.                                 |

- **График**: `imp_feature_importance` визуализирует ранжирование признаков.  

---

## 8. Инсайт-ориентированные визуализации  
**12 ключевых графиков**:  
1. **Доходы (`MonthlyRevenue`)**:  
   - `desc_MonthlyRevenue_boxplot` и `desc_MonthlyRevenue_hist` — группа 0 имеет отрицательные значения.  
2. **Ожидание вызова (`CallWaitingCalls`)**:  
   - `desc_CallWaitingCalls_boxplot` и `desc_CallWaitingCalls_hist` — группа 1 не использует этот сервис.  
3. **Уникальные подписки (`UniqueSubs`)**:  
   - `desc_UniqueSubs_boxplot` и `desc_UniqueSubs_hist` — группа 1 имеет аномально высокие значения.  
4. **Звонки в службу удержания (`RetentionCalls`)**:  
   - `corr_RetentionCalls_scatter` и `corr_RetentionCalls_boxplot` — положительная связь с группой 1.  
5. **Принятие предложений (`RetentionOffersAccepted`)**:  
   - `corr_RetentionOffersAccepted_scatter` и `corr_RetentionOffersAccepted_boxplot` — группа 1 чаще принимает предложения.  
6. **Веб-способные устройства (`HandsetWebCapable`)**:  
   - `cat_HandsetWebCapable_stacked_bar` — группа 1 предпочитает современные устройства.  
7. **Кредитный рейтинг (`CreditRating`)**:  
   - `cat_CreditRating_stacked_bar` — высокий рейтинг ассоциируется с удержанием.  
8. **Регион обслуживания (`ServiceArea`)**:  
   - `cat_ServiceArea_stacked_bar` — различия в регионах критичны для оттока.  
9. **Реакция на почтовые предложения (`RespondsToMailOffers`)**:  
   - `cat_RespondsToMailOffers_stacked_bar` — группа 1 активнее отвечает на рассылки.  
10. **Стабильность доходов (`PercChangeRevenues`)**:  
    - `corr_PercChangeRevenues_scatter` — группа 1 имеет менее резкие колебания.  
11. **Дни использования оборудования (`CurrentEquipmentDays`)**:  
    - `pf_CurrentEquipmentDays_boxplot` и `pf_CurrentEquipmentDays_hist` — разделение на основе порога 304.5 дней.  
12. **Количество звонков (`DirectorAssistedCalls`)**:  
    - `desc_DirectorAssistedCalls_boxplot` — группа 0 чаще обращается к операторам.  

---

## Заключение и рекомендации  
### **Синтез выводов**  
Наиболее сильно отличают группу 1 (удержанные клиенты) от группы 0 (ушедшие):  
1. **`CurrentEquipmentDays`** (главный признак по модели) — клиенты с длительным использованием оборудования остаются.  
2. **`MonthlyRevenue_min`** — у ушедших есть отрицательные доходы (долг или ошибки).  
3. **`MadeCallToRetentionTeam`** (категориальный) — группа 1 чаще взаимодействует с службой удержания.  

### **Следующие шаги**  
1. **Проверить влияние выбросов** в `PercChangeRevenues` и `RoamingCalls` на модель (например, через сравнение с обработанными данными).  
2. **Исследовать `HandsetRefurbished`** — почему ремонтированные устройства чаще ассоциируются с оттоком?  
3. **A/B-тест для `RetentionOffersAccepted`** — проверить, действительно ли принятие предложений снижает отток.  
4. **Анализ `ServiceArea`** — выявить регионы с высоким оттоком и разработать локальные стратегии удержания.  
5. **Проверить `MonthlyRevenue_min`** — уточнить причины отрицательных значений (долги, ошибки биллинга).  

**Графики для углубленного анализа**:  
- `imp_feature_importance` (важность признаков).  
- `pf_CurrentEquipmentDays_boxplot` (разделение по порогу).  
- `cat_MadeCallToRetentionTeam_stacked_bar` (взаимодействие с поддержкой).  

---  
**Примечание**: Все графики доступны в папке `images`. Интерпретация основана исключительно на предоставленных данных.