

# Аналитический отчёт по данным из файла: telecom_eda_data.csv  

## Ключевые выводы  
1. Признак **'CurrentEquipmentDays'** выбран деревом как главный (порог=304.5, Information Gain=0.0096).  
2. Найдены **5 сильных положительных и 5 отрицательных корреляций** с целевой переменной (например, RetentionCalls: 0.065, DroppedBlockedCalls: -0.013).  
3. **10 значимых различий** в статистиках между группами (топ-1: 'MonthlyRevenue_min', разница=100%).  
4. **12 значимых категориальных признаков** (топ-1: MadeCallToRetentionTeam, p-value=3.56e-52).  
5. Созданы визуализации для **3 ключевых признаков** (CustomerID, MonthlyMinutes, PercChangeMinutes).  
6. Обнаружено **119245 выбросов** в 31 признаке (например, PercChangeRevenues: 25.9% выбросов).  
7. **Топ-важный признак по RandomForest** — 'CurrentEquipmentDays' (важность=0.0544).  

---

## 1. Ключевой дифференцирующий признак  
**'CurrentEquipmentDays'** (количество дней использования текущего оборудования) является главным дифференцирующим признаком согласно дереву решений:  
- **Порог разделения**: 304.5 дней.  
- **Information Gain**: 0.0096 (умеренная дифференциация).  

**Интерпретация**:  
- Клиенты с **CurrentEquipmentDays > 304.5** чаще относятся к группе 1 (целевая).  
- Это может указывать на то, что длительное использование оборудования связано с более высокой лояльностью или стабильностью поведения.  

**Графики для анализа**:  
- *Boxplot распределения CurrentEquipmentDays для групп 0 и 1* (график `pf_CurrentEquipmentDays_boxplot`).  
- *Гистограмма распределения CurrentEquipmentDays* (график `pf_CurrentEquipmentDays_histogram`).  

---

## 2. Анализ корреляций  
**Топ 5 положительных корреляций** (чем выше значение признака, тем выше вероятность группы 1):  
1. **RetentionCalls** (0.065) — клиенты группы 1 чаще обращаются в службу удержания.  
2. **RetentionOffersAccepted** (0.035) — выше склонность принимать предложения удержания.  
3. **UniqueSubs** (0.035) — больше уникальных подписок у группы 1.  
4. **MonthsInService** (0.019) — более длительный срок обслуживания.  
5. **ActiveSubs** (0.016) — выше активность в подписках.  

**Топ 5 отрицательных корреляций** (чем выше значение признака, тем выше вероятность группы 0):  
1. **DroppedBlockedCalls** (-0.013) — больше пропущенных/заблокированных звонков у группы 0.  
2. **IncomeGroup** (-0.013) — клиенты группы 1 имеют более высокий доход.  
3. **ReferralsMadeBySubscriber** (-0.011) — группа 1 реже рекомендует услуги.  
4. **BlockedCalls** (-0.006) — меньше заблокированных звонков у группы 1.  
5. **CallForwardingCalls** (-0.001) — слабая отрицательная связь с использованием переадресации.  

**Графики для анализа**:  
- *Scatter plot RetentionCalls vs. Target* (график `corr_RetentionCalls_scatter`).  
- *Boxplot RetentionOffersAccepted для групп 0 и 1* (график `corr_RetentionOffersAccepted_boxplot`).  

---

## 3. Сравнительный анализ статистик  
**Топ 10 значимых различий** (разница в % между группами 0 и 1):  

| Признак                     | Группа 0       | Группа 1       | Разница (%) |  
|------------------------------|---------------|---------------|-------------|  
| MonthlyRevenue_min           | -6.170        | 0.000         | 100.0%      |  
| CallWaitingCalls_median      | 0.300         | 0.000         | 100.0%      |  
| UniqueSubs_max               | 12.000        | 196.000       | 93.9%       |  
| ActiveSubs_max               | 11.000        | 53.000        | 79.2%       |  
| PercChangeMinutes_mean       | -5.971        | -25.458       | 76.5%       |  
| ReferralsMadeBySubscriber_max| 35.000        | 9.000         | 74.3%       |  
| PercChangeMinutes_median     | -3.000        | -11.000       | 72.7%       |  
| DirectorAssistedCalls_max    | 159.390       | 45.790        | 71.3%       |  
| PercChangeRevenues_mean      | -1.471        | -0.497        | 66.2%       |  
| AdjustmentsToCreditRating_max| 25.000        | 9.000         | 64.0%       |  

**Интерпретация**:  
- **MonthlyRevenue_min**: У группы 1 нет отрицательных минимальных доходов, в отличие от группы 0. Это может указывать на финансовую стабильность клиентов группы 1.  
- **CallWaitingCalls_median**: Группа 1 вообще не использует функцию ожидания вызова (медиана=0), тогда как у группы 0 она есть (0.3).  
- **UniqueSubs_max**: Максимальная активность в подписках в 16 раз выше у группы 1 (196 vs. 12).  

**Графики для анализа**:  
- *Boxplot MonthlyRevenue для групп 0 и 1* (график `desc_MonthlyRevenue_boxplot`).  
- *Гистограмма MonthlyRevenue* (график `desc_MonthlyRevenue_histogram`).  
- *Boxplot CallWaitingCalls для групп 0 и 1* (график `desc_CallWaitingCalls_boxplot`).  

---

## 4. Анализ категориальных признаков  
**12 значимых категориальных признаков** (по p-value):  
1. **MadeCallToRetentionTeam** (p=3.56e-52) — клиенты группы 1 чаще звонили в службу удержания.  
2. **HandsetWebCapable** (p=1.29e-44) — группа 1 чаще использует веб-способные устройства.  
3. **CreditRating** (p=1.47e-43) — у группы 1 выше кредитный рейтинг.  
4. **HandsetRefurbished** (p=1.45e-11) — группа 1 реже использует восстановленные устройства.  
5. **HandsetPrice** (p=2.79e-09) — группа 1 предпочитает более дорогие устройства.  
6. **MaritalStatus** (p=9.59e-09) — распределение семейного положения значимо различается.  
7. **ServiceArea** (p=1.86e-07) — группа 1 чаще обслуживается в определенных регионах.  
8. **RespondsToMailOffers** (p=2.39e-07) — выше отклик на почтовые предложения.  
9. **BuysViaMailOrder** (p=9.67e-07) — группа 1 чаще покупает через почту.  
10. **PrizmCode** (p=2.61e-04) — различия в демографических сегментах.  
11. **Homeownership** (p=3.04e-03) — группа 1 чаще владеет жильем.  
12. **ChildrenInHH** (p=3.16e-02) — различия в количестве детей в домохозяйстве.  

**Графики для анализа**:  
- *Stacked bar chart MadeCallToRetentionTeam* (график `cat_MadeCallToRetentionTeam_stacked_bar`).  
- *Stacked bar chart HandsetWebCapable* (график `cat_HandsetWebCapable_stacked_bar`).  
- *Stacked bar chart CreditRating* (график `cat_CreditRating_stacked_bar`).  

---

## 5. Анализ распределений и визуализация  
**Ключевые графики**:  
1. **CustomerID** (Boxplot):  
   - Распределения для групп 0 и 1 схожи, но группа 1 имеет немного более высокую медиану.  
   - *График*: `CustomerID_boxplot`.  

2. **MonthlyMinutes** (Boxplot):  
   - Группа 0 демонстрирует более широкий размах значений, что указывает на большую вариативность использования минут.  
   - *График*: `MonthlyMinutes_boxplot`.  

3. **PercChangeMinutes** (Boxplot):  
   - Группа 1 имеет более низкие значения (медиана=-11.000 vs. -3.000 у группы 0), что может означать снижение активности.  
   - *График*: `PercChangeMinutes_boxplot`.  

---

## 6. Выбросы и аномалии  
Обнаружено **119245 выбросов** в 31 признаке. Наибольшее количество выбросов:  
- **PercChangeRevenues**: 25.9% (13221 выбросов) — высокая вариативность изменений доходов.  
- **RoamingCalls**: 17.31% (8835 выбросов) — аномально высокие значения в группе 0.  
- **DroppedBlockedCalls**: 7.71% (3936 выбросов) — возможны ошибки в данных.  

**Влияние на анализ**:  
- Выбросы в **PercChangeRevenues** могут искажать средние значения, особенно для группы 0.  
- В **RoamingCalls** аномалии в группе 0 требуют проверки на корректность данных.  

**График для анализа**:  
- *Сводный график количества выбросов* (график `outlier_summary_summary_plot`).  

---

## 8. Важность признаков (модель)  
**Ранжирование по RandomForest**:  
1. **CurrentEquipmentDays** (0.0544)  
2. PercChangeMinutes (0.0477)  
3. CustomerID (0.0475)  
4. MonthlyMinutes (0.0465)  
5. MonthlyRevenue (0.0412)  
6. PercChangeRevenues (0.0407)  
7. ServiceArea (0.0407)  
8. MonthsInService (0.0373)  
9. PeakCallsInOut (0.0362)  
10. OffPeakCallsInOut (0.0348)  

**Интерпретация**:  
- **CurrentEquipmentDays** остается самым важным признаком (подтверждено деревом и RandomForest).  
- **PercChangeMinutes** и **MonthlyRevenue** также критичны, что указывает на связь между изменениями в использовании услуг и доходами с целевой переменной.  

**График для анализа**:  
- *График важности признаков* (график `feature_importance_importance_plot`).  

---

## Заключение и рекомендации  

### **Топ-3 дифференцирующих признака**:  
1. **CurrentEquipmentDays** (главный признак, длительное использование оборудования связано с группой 1).  
2. **MonthlyRevenue_min** (отсутствие отрицательных доходов у группы 1).  
3. **CallWaitingCalls_median** (полное отсутствие использования функции ожидания у группы 1).  

### **Рекомендации**:  
1. **Исследовать влияние CurrentEquipmentDays**:  
   - Проверить, как срок использования оборудования связан с оттоком (например, клиенты с >304 дней реже уходят).  
   - Провести A/B тест: предлагать скид на обновление оборудования для группы 0.  

2. **Анализ доходов (MonthlyRevenue)**:  
   - Изучить причины отрицательных минимальных доходов в группе 0 (скидки, ошибки биллинга?).  
   - Разработать программы для стабилизации доходов клиентов группы 0.  

3. **Функции CallWaiting и RetentionCalls**:  
   - Проверить, почему группа 1 не использует CallWaiting (технические ограничения или предпочтения?).  
   - Усилить работу службы удержания (RetentionCalls) для группы 0, так как их активность там выше, но конверсия в группу 1 низкая.  

4. **Выбросы в PercChangeRevenues и RoamingCalls**:  
   - Провести очистку данных для этих признаков, так как аномалии могут влиять на модели.  

5. **Кредитный рейтинг и веб-способные устройства**:  
   - Клиенты группы 1 имеют более высокий CreditRating и используют современные устройства.  
   - Рассмотреть таргетированные предложения для группы 0 с улучшением кредитного профиля или апгрейдом оборудования.  

**Следующие шаги**:  
- Детальный анализ причин отрицательных доходов в группе 0.  
- Проверка гипотезы о связи между CurrentEquipmentDays и оттоком.  
- Исследование взаимодействия между RetentionCalls и другими признаками (например, CreditRating).  

---  
**Примечание**: Все графики доступны в папке `images/`. Для углубленного анализа рекомендуется изучить их визуально.